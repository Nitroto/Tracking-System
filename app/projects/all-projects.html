<div ng-cloak>
    <div class="text-center">
        <div class="container">
            <uib-pagination total-items="result.TotalCount" ng-model="projectsParams.startPage"
                            items-per-page="projectsParams.pageSize" ng-change="reloadProjects()"
                            max-size="9" boundary-links="true" template-url="app/common/pagination.html">
            </uib-pagination>
        </div>
    </div>

    <div class="container-fluid">
        <table class="table table-striped table-hover" ng-if="result.Projects.length > 0">
            <thead>
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Description</th>
                <th>Lead</th>
                <th>Labels</th>
                <th>Priorities</th>
            </tr>
            </thead>
            <tbody>

            <tr ng-repeat="project in result.Projects" ng-click="projectSelected(project.Id)">
                <td>{{project.Id}}</td>
                <td>{{project.Name}}</td>
                <td class="col-md-4">{{project.Description|limitTo : 200 }}</td>
                <td>{{project.Lead.Username}}</td>
                <td class="col-md-1">
                        <span class="label label-primary" ng-repeat="label in project.Labels">
                            {{label.Name}}
                    </span>
                </td>
                <td class="col-md-1">
                        <span class="label label-success" ng-repeat="priority in project.Priorities">
                            {{priority.Name}}
                        </span>
                </td>
            </tr>
            </tbody>
        </table>

        <div class="row text-center" ng-if="result.Projects.length>10">
            <uib-pagination total-items="result.TotalCount" ng-model="projectsParams.startPage"
                            items-per-page="projectsParams.pageSize" ng-change="reloadProjects()"
                            max-size="9" boundary-links="true" template-url="app/common/pagination.html">
            </uib-pagination>
        </div>
    </div>
</div>

